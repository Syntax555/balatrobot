{
  "openrpc": "1.3.2",
  "info": {
    "title": "BalatroBot API",
    "description": "JSON-RPC 2.0 API for Balatro bot development. This API allows external clients to control the Balatro game, query game state, and execute actions through an HTTP server.",
    "version": "1.0.0",
    "license": {
      "name": "MIT"
    }
  },
  "servers": [
    {
      "name": "Local",
      "url": "http://127.0.0.1:12346",
      "description": "Local HTTP server for Balatro game communication"
    }
  ],
  "methods": [
    {
      "name": "rpc.discover",
      "summary": "Returns the OpenRPC schema for this service",
      "description": "Service discovery method that returns the OpenRPC specification document describing this JSON-RPC API.",
      "tags": [
        {
          "$ref": "#/components/tags/state"
        }
      ],
      "params": [],
      "result": {
        "name": "OpenRPC Schema",
        "schema": {
          "$ref": "https://raw.githubusercontent.com/open-rpc/meta-schema/master/schema.json"
        }
      },
      "errors": []
    },
    {
      "name": "add",
      "summary": "Add a new card to the game",
      "description": "Add a new card to the game (joker, consumable, voucher, or playing card). Playing cards use SUIT_RANK format (e.g., H_A for Ace of Hearts).",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "key",
          "description": "Card key. Format: jokers (j_*), consumables (c_*), vouchers (v_*), or playing cards (SUIT_RANK like H_A, D_K, C_2, S_T)",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "seal",
          "description": "Seal type for playing cards only",
          "required": false,
          "schema": {
            "$ref": "#/components/schemas/Seal"
          }
        },
        {
          "name": "edition",
          "description": "Edition type. NEGATIVE only valid for consumables; jokers and playing cards accept all editions. Not valid for vouchers.",
          "required": false,
          "schema": {
            "$ref": "#/components/schemas/Edition"
          }
        },
        {
          "name": "enhancement",
          "description": "Enhancement type for playing cards only",
          "required": false,
          "schema": {
            "$ref": "#/components/schemas/Enhancement"
          }
        },
        {
          "name": "eternal",
          "description": "If true, card cannot be sold or destroyed (jokers only)",
          "required": false,
          "schema": {
            "type": "boolean"
          }
        },
        {
          "name": "perishable",
          "description": "Number of rounds before card perishes (must be >= 1, jokers only)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 1
          }
        },
        {
          "name": "rental",
          "description": "If true, card costs $1 per round (jokers only)",
          "required": false,
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after card is added",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        }
      ]
    },
    {
      "name": "buy",
      "summary": "Buy a card from the shop",
      "description": "Buy a card, voucher, or pack from the shop. Must provide exactly one of: card, voucher, or pack.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [
        {
          "name": "card",
          "description": "0-based index of card to buy from shop",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "voucher",
          "description": "0-based index of voucher to buy",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "pack",
          "description": "0-based index of pack to buy",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after purchase",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "cash_out",
      "summary": "Cash out and collect round rewards",
      "description": "Cash out and collect round rewards, transitioning to the shop phase.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after transitioning to shop",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        }
      ]
    },
    {
      "name": "discard",
      "summary": "Discard cards from the hand",
      "description": "Discard specified cards from the hand. Card indices are 0-based.",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "cards",
          "description": "0-based indices of cards to discard (non-empty array)",
          "required": true,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            },
            "minItems": 1
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after discard and hand redraw",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        }
      ]
    },
    {
      "name": "gamestate",
      "summary": "Get current game state",
      "description": "Get the complete current game state. Works in any game state.",
      "tags": [
        {
          "$ref": "#/components/tags/state"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete current game state",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": []
    },
    {
      "name": "health",
      "summary": "Health check endpoint",
      "description": "Health check endpoint for connection testing. Always succeeds and works in any game state.",
      "tags": [
        {
          "$ref": "#/components/tags/state"
        }
      ],
      "params": [],
      "result": {
        "name": "health",
        "description": "Health check response",
        "schema": {
          "type": "object",
          "properties": {
            "status": {
              "type": "string",
              "enum": [
                "ok"
              ]
            }
          },
          "required": [
            "status"
          ]
        }
      },
      "errors": []
    },
    {
      "name": "load",
      "summary": "Load a saved run state from a file",
      "description": "Load a previously saved run state from a file. The file must be a valid Balatro save file.",
      "tags": [
        {
          "$ref": "#/components/tags/game-control"
        }
      ],
      "params": [
        {
          "name": "path",
          "description": "File path to the save file",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "name": "result",
        "description": "Load operation result",
        "schema": {
          "$ref": "#/components/schemas/PathResult"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InternalError"
        }
      ]
    },
    {
      "name": "menu",
      "summary": "Return to the main menu",
      "description": "Return to the main menu from any game state.",
      "tags": [
        {
          "$ref": "#/components/tags/game-control"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state (state will be MENU)",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": []
    },
    {
      "name": "next_round",
      "summary": "Leave the shop and advance to blind selection",
      "description": "Leave the shop and advance to the blind selection phase.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state (state will be BLIND_SELECT)",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        }
      ]
    },
    {
      "name": "play",
      "summary": "Play cards from the hand",
      "description": "Play specified cards from the hand. Card indices are 0-based.",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "cards",
          "description": "0-based indices of cards to play (non-empty array)",
          "required": true,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            },
            "minItems": 1
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after playing cards. State may be ROUND_EVAL, SELECTING_HAND, or GAME_OVER.",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        }
      ]
    },
    {
      "name": "rearrange",
      "summary": "Rearrange cards in hand, jokers, or consumables",
      "description": "Rearrange cards by providing a new ordering. Must provide exactly one of: hand, jokers, or consumables. The array must be a valid permutation of all current indices.",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "hand",
          "description": "0-based indices representing new order of cards in hand",
          "required": false,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            }
          }
        },
        {
          "name": "jokers",
          "description": "0-based indices representing new order of jokers",
          "required": false,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            }
          }
        },
        {
          "name": "consumables",
          "description": "0-based indices representing new order of consumables",
          "required": false,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            }
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after rearrangement",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "reroll",
      "summary": "Reroll shop items",
      "description": "Reroll to update the cards in the shop area. Costs money.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after reroll",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "save",
      "summary": "Save the current run state to a file",
      "description": "Save the current run state to a file. Only works during an active run.",
      "tags": [
        {
          "$ref": "#/components/tags/game-control"
        }
      ],
      "params": [
        {
          "name": "path",
          "description": "File path for the save file",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "name": "result",
        "description": "Save operation result",
        "schema": {
          "$ref": "#/components/schemas/PathResult"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/InternalError"
        }
      ]
    },
    {
      "name": "screenshot",
      "summary": "Take a screenshot of the current game state",
      "description": "Take a screenshot of the current game state and save it as PNG format.",
      "tags": [
        {
          "$ref": "#/components/tags/utility"
        }
      ],
      "params": [
        {
          "name": "path",
          "description": "File path for the screenshot file (PNG format)",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "name": "result",
        "description": "Screenshot operation result",
        "schema": {
          "$ref": "#/components/schemas/PathResult"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InternalError"
        }
      ]
    },
    {
      "name": "select",
      "summary": "Select the current blind",
      "description": "Select the current blind to begin the round.",
      "tags": [
        {
          "$ref": "#/components/tags/blind"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state (state will be SELECTING_HAND)",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        }
      ]
    },
    {
      "name": "sell",
      "summary": "Sell a joker or consumable",
      "description": "Sell a joker or consumable from player inventory. Must provide exactly one of: joker or consumable.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [
        {
          "name": "joker",
          "description": "0-based index of joker to sell",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "consumable",
          "description": "0-based index of consumable to sell",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after sale",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "set",
      "summary": "Set an in-game value",
      "description": "Set one or more in-game values. Must provide at least one field. Only works during an active run.",
      "tags": [
        {
          "$ref": "#/components/tags/utility"
        }
      ],
      "params": [
        {
          "name": "money",
          "description": "New money amount (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "chips",
          "description": "New chips amount (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "ante",
          "description": "New ante number (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "round",
          "description": "New round number (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "hands",
          "description": "New number of hands left (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "discards",
          "description": "New number of discards left (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "shop",
          "description": "If true, re-stock shop with new items (only in SHOP state)",
          "required": false,
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after setting values",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "skip",
      "summary": "Skip the current blind",
      "description": "Skip the current blind (Small or Big only, cannot skip Boss blind).",
      "tags": [
        {
          "$ref": "#/components/tags/blind"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after skipping",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "start",
      "summary": "Start a new game run",
      "description": "Start a new game run with specified deck and stake.",
      "tags": [
        {
          "$ref": "#/components/tags/game-control"
        }
      ],
      "params": [
        {
          "name": "deck",
          "description": "Deck to use for the run",
          "required": true,
          "schema": {
            "$ref": "#/components/schemas/Deck"
          }
        },
        {
          "name": "stake",
          "description": "Stake level for the run",
          "required": true,
          "schema": {
            "$ref": "#/components/schemas/Stake"
          }
        },
        {
          "name": "seed",
          "description": "Optional seed for the run",
          "required": false,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state (state will be BLIND_SELECT)",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/InternalError"
        }
      ]
    },
    {
      "name": "use",
      "summary": "Use a consumable card",
      "description": "Use a consumable card with optional target cards. Some consumables require card selection.",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "consumable",
          "description": "0-based index of consumable to use",
          "required": true,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "cards",
          "description": "0-based indices of cards to target (required for some consumables)",
          "required": false,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            }
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after using consumable",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    }
  ],
  "components": {
    "tags": {
      "state": {
        "name": "state",
        "description": "Game state query endpoints"
      },
      "game-control": {
        "name": "game-control",
        "description": "Game lifecycle control (start, menu, load, save)"
      },
      "blind": {
        "name": "blind",
        "description": "Blind selection and skipping"
      },
      "shop": {
        "name": "shop",
        "description": "Shop interactions (buy, sell, reroll, cash_out)"
      },
      "cards": {
        "name": "cards",
        "description": "Card manipulation (play, discard, rearrange, use, add)"
      },
      "utility": {
        "name": "utility",
        "description": "Utility endpoints (screenshot, set)"
      }
    },
    "schemas": {
      "GameState": {
        "type": "object",
        "description": "Complete game state representation",
        "properties": {
          "state": {
            "$ref": "#/components/schemas/State"
          },
          "round_num": {
            "type": "integer",
            "description": "Current round number"
          },
          "ante_num": {
            "type": "integer",
            "description": "Current ante number"
          },
          "money": {
            "type": "integer",
            "description": "Current money amount"
          },
          "deck": {
            "$ref": "#/components/schemas/Deck",
            "description": "Current selected deck"
          },
          "stake": {
            "$ref": "#/components/schemas/Stake",
            "description": "Current selected stake"
          },
          "seed": {
            "type": "string",
            "description": "Seed used for the run"
          },
          "won": {
            "type": "boolean",
            "description": "Whether the game has been won"
          },
          "used_vouchers": {
            "type": "object",
            "description": "Vouchers used (name -> description)",
            "additionalProperties": {
              "type": "string"
            }
          },
          "hands": {
            "type": "object",
            "description": "Poker hands information",
            "additionalProperties": {
              "$ref": "#/components/schemas/Hand"
            }
          },
          "round": {
            "$ref": "#/components/schemas/Round"
          },
          "blinds": {
            "type": "object",
            "description": "Blind information",
            "properties": {
              "small": {
                "$ref": "#/components/schemas/Blind"
              },
              "big": {
                "$ref": "#/components/schemas/Blind"
              },
              "boss": {
                "$ref": "#/components/schemas/Blind"
              }
            }
          },
          "jokers": {
            "$ref": "#/components/schemas/Area",
            "description": "Jokers area"
          },
          "consumables": {
            "$ref": "#/components/schemas/Area",
            "description": "Consumables area"
          },
          "hand": {
            "$ref": "#/components/schemas/Area",
            "description": "Hand area (available during playing phase)"
          },
          "pack": {
            "$ref": "#/components/schemas/Area",
            "description": "Currently open pack (available during pack opening phase)"
          },
          "shop": {
            "$ref": "#/components/schemas/Area",
            "description": "Shop area (available during shop phase)"
          },
          "vouchers": {
            "$ref": "#/components/schemas/Area",
            "description": "Vouchers area (available during shop phase)"
          },
          "packs": {
            "$ref": "#/components/schemas/Area",
            "description": "Booster packs area (available during shop phase)"
          }
        },
        "required": [
          "state",
          "round_num",
          "ante_num",
          "money"
        ]
      },
      "Hand": {
        "type": "object",
        "description": "Poker hand information",
        "properties": {
          "order": {
            "type": "integer",
            "description": "The importance/ordering of the hand"
          },
          "level": {
            "type": "integer",
            "description": "Level of the hand in the current run"
          },
          "chips": {
            "type": "integer",
            "description": "Current chip value for this hand"
          },
          "mult": {
            "type": "integer",
            "description": "Current multiplier value for this hand"
          },
          "played": {
            "type": "integer",
            "description": "Total number of times this hand has been played"
          },
          "played_this_round": {
            "type": "integer",
            "description": "Number of times this hand has been played this round"
          },
          "example": {
            "type": "array",
            "description": "Example cards showing what makes this hand",
            "items": {
              "type": "array"
            }
          }
        },
        "required": [
          "order",
          "level",
          "chips",
          "mult",
          "played",
          "played_this_round"
        ]
      },
      "Round": {
        "type": "object",
        "description": "Current round state",
        "properties": {
          "hands_left": {
            "type": "integer",
            "description": "Number of hands remaining in this round"
          },
          "hands_played": {
            "type": "integer",
            "description": "Number of hands played in this round"
          },
          "discards_left": {
            "type": "integer",
            "description": "Number of discards remaining in this round"
          },
          "discards_used": {
            "type": "integer",
            "description": "Number of discards used in this round"
          },
          "reroll_cost": {
            "type": "integer",
            "description": "Current cost to reroll the shop"
          },
          "chips": {
            "type": "integer",
            "description": "Current chips scored in this round"
          }
        }
      },
      "Blind": {
        "type": "object",
        "description": "Blind information",
        "properties": {
          "type": {
            "$ref": "#/components/schemas/BlindType"
          },
          "status": {
            "$ref": "#/components/schemas/BlindStatus"
          },
          "name": {
            "type": "string",
            "description": "Name of the blind (e.g., 'Small', 'Big' or the Boss name)"
          },
          "effect": {
            "type": "string",
            "description": "Description of the blind's effect"
          },
          "score": {
            "type": "integer",
            "description": "Score requirement to beat this blind"
          },
          "tag_name": {
            "type": "string",
            "description": "Name of the tag associated with this blind (Small/Big only)"
          },
          "tag_effect": {
            "type": "string",
            "description": "Description of the tag's effect (Small/Big only)"
          }
        },
        "required": [
          "type",
          "status",
          "name",
          "effect",
          "score"
        ]
      },
      "Area": {
        "type": "object",
        "description": "Card area (jokers, consumables, hand, shop, etc.)",
        "properties": {
          "count": {
            "type": "integer",
            "description": "Current number of cards in this area"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of cards allowed in this area"
          },
          "highlighted_limit": {
            "type": "integer",
            "description": "Maximum number of cards that can be highlighted (hand area only)"
          },
          "cards": {
            "type": "array",
            "description": "Array of cards in this area",
            "items": {
              "$ref": "#/components/schemas/Card"
            }
          }
        },
        "required": [
          "count",
          "limit",
          "cards"
        ]
      },
      "Card": {
        "type": "object",
        "description": "Card representation",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the card (sort_id)"
          },
          "key": {
            "type": "string",
            "description": "Specific card key (e.g., 'c_fool', 'j_brainstorm', 'v_overstock')"
          },
          "set": {
            "$ref": "#/components/schemas/CardSet"
          },
          "label": {
            "type": "string",
            "description": "Display label/name of the card"
          },
          "value": {
            "$ref": "#/components/schemas/CardValue"
          },
          "modifier": {
            "$ref": "#/components/schemas/CardModifier"
          },
          "state": {
            "$ref": "#/components/schemas/CardState"
          },
          "cost": {
            "$ref": "#/components/schemas/CardCost"
          }
        },
        "required": [
          "id",
          "key",
          "set",
          "label",
          "value",
          "modifier",
          "state",
          "cost"
        ]
      },
      "CardValue": {
        "type": "object",
        "description": "Value information for the card",
        "properties": {
          "suit": {
            "$ref": "#/components/schemas/Suit",
            "description": "Suit (only for playing cards)"
          },
          "rank": {
            "$ref": "#/components/schemas/Rank",
            "description": "Rank (only for playing cards)"
          },
          "effect": {
            "type": "string",
            "description": "Description of the card's effect (from UI)"
          }
        },
        "required": [
          "effect"
        ]
      },
      "CardModifier": {
        "type": "object",
        "description": "Modifier information (seals, editions, enhancements)",
        "properties": {
          "seal": {
            "$ref": "#/components/schemas/Seal",
            "description": "Seal type (playing cards)"
          },
          "edition": {
            "$ref": "#/components/schemas/Edition",
            "description": "Edition type (jokers, playing cards, and NEGATIVE consumables)"
          },
          "enhancement": {
            "$ref": "#/components/schemas/Enhancement",
            "description": "Enhancement type (playing cards)"
          },
          "eternal": {
            "type": "boolean",
            "description": "If true, card cannot be sold or destroyed (jokers only)"
          },
          "perishable": {
            "type": "integer",
            "description": "Number of rounds remaining (only if > 0, jokers only)"
          },
          "rental": {
            "type": "boolean",
            "description": "If true, card costs money at end of round (jokers only)"
          }
        }
      },
      "CardState": {
        "type": "object",
        "description": "Current state information",
        "properties": {
          "debuff": {
            "type": "boolean",
            "description": "If true, card is debuffed and won't score"
          },
          "hidden": {
            "type": "boolean",
            "description": "If true, card is face down"
          },
          "highlight": {
            "type": "boolean",
            "description": "If true, card is currently highlighted"
          }
        }
      },
      "CardCost": {
        "type": "object",
        "description": "Cost information",
        "properties": {
          "sell": {
            "type": "integer",
            "description": "Sell value of the card"
          },
          "buy": {
            "type": "integer",
            "description": "Buy price of the card (if in shop)"
          }
        },
        "required": [
          "sell",
          "buy"
        ]
      },
      "PathResult": {
        "type": "object",
        "description": "Result for file operations (save, load, screenshot)",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation was successful"
          },
          "path": {
            "type": "string",
            "description": "Path to the file"
          }
        },
        "required": [
          "success",
          "path"
        ]
      },
      "State": {
        "type": "string",
        "description": "Game state enumeration",
        "enum": [
          "MENU",
          "BLIND_SELECT",
          "SELECTING_HAND",
          "HAND_PLAYED",
          "DRAW_TO_HAND",
          "NEW_ROUND",
          "ROUND_EVAL",
          "SHOP",
          "PLAY_TAROT",
          "TAROT_PACK",
          "PLANET_PACK",
          "SPECTRAL_PACK",
          "STANDARD_PACK",
          "BUFFOON_PACK",
          "GAME_OVER"
        ]
      },
      "Deck": {
        "type": "string",
        "description": "Deck enumeration",
        "enum": [
          "RED",
          "BLUE",
          "YELLOW",
          "GREEN",
          "BLACK",
          "MAGIC",
          "NEBULA",
          "GHOST",
          "ABANDONED",
          "CHECKERED",
          "ZODIAC",
          "PAINTED",
          "ANAGLYPH",
          "PLASMA",
          "ERRATIC"
        ]
      },
      "Stake": {
        "type": "string",
        "description": "Stake level enumeration",
        "enum": [
          "WHITE",
          "RED",
          "GREEN",
          "BLACK",
          "BLUE",
          "PURPLE",
          "ORANGE",
          "GOLD"
        ]
      },
      "Suit": {
        "type": "string",
        "description": "Card suit",
        "enum": [
          "H",
          "D",
          "C",
          "S"
        ]
      },
      "Rank": {
        "type": "string",
        "description": "Card rank",
        "enum": [
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8",
          "9",
          "T",
          "J",
          "Q",
          "K",
          "A"
        ]
      },
      "Seal": {
        "type": "string",
        "description": "Card seal type",
        "enum": [
          "RED",
          "BLUE",
          "GOLD",
          "PURPLE"
        ]
      },
      "Edition": {
        "type": "string",
        "description": "Card edition type",
        "enum": [
          "HOLO",
          "FOIL",
          "POLYCHROME",
          "NEGATIVE"
        ]
      },
      "Enhancement": {
        "type": "string",
        "description": "Card enhancement type",
        "enum": [
          "BONUS",
          "MULT",
          "WILD",
          "GLASS",
          "STEEL",
          "STONE",
          "GOLD",
          "LUCKY"
        ]
      },
      "CardSet": {
        "type": "string",
        "description": "Card set/type",
        "enum": [
          "DEFAULT",
          "ENHANCED",
          "JOKER",
          "TAROT",
          "PLANET",
          "SPECTRAL",
          "VOUCHER",
          "BOOSTER"
        ]
      },
      "BlindType": {
        "type": "string",
        "description": "Blind type",
        "enum": [
          "SMALL",
          "BIG",
          "BOSS"
        ]
      },
      "BlindStatus": {
        "type": "string",
        "description": "Blind status",
        "enum": [
          "UPCOMING",
          "CURRENT",
          "DEFEATED",
          "SKIPPED",
          "SELECT"
        ]
      }
    },
    "errors": {
      "InternalError": {
        "code": -32000,
        "message": "Internal error",
        "data": {
          "name": "INTERNAL_ERROR"
        }
      },
      "BadRequest": {
        "code": -32001,
        "message": "Bad request",
        "data": {
          "name": "BAD_REQUEST"
        }
      },
      "InvalidState": {
        "code": -32002,
        "message": "Invalid state",
        "data": {
          "name": "INVALID_STATE"
        }
      },
      "NotAllowed": {
        "code": -32003,
        "message": "Not allowed",
        "data": {
          "name": "NOT_ALLOWED"
        }
      }
    }
  }
}
