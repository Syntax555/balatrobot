{
  "openrpc": "1.3.2",
  "info": {
    "title": "BalatroBot API",
    "description": "JSON-RPC 2.0 API for Balatro bot development. This API allows external clients to control the Balatro game, query game state, and execute actions through an HTTP server.",
    "version": "1.0.0",
    "license": {
      "name": "MIT"
    }
  },
  "servers": [
    {
      "name": "Local",
      "url": "http://127.0.0.1:12346",
      "description": "Local HTTP server for Balatro game communication"
    }
  ],
  "methods": [
    {
      "name": "rpc.discover",
      "summary": "Returns the OpenRPC schema for this service",
      "description": "Service discovery method that returns the OpenRPC specification document describing this JSON-RPC API.",
      "tags": [
        {
          "$ref": "#/components/tags/state"
        }
      ],
      "params": [],
      "result": {
        "name": "OpenRPC Schema",
        "schema": {
          "$ref": "https://raw.githubusercontent.com/open-rpc/meta-schema/master/schema.json"
        }
      },
      "errors": []
    },
    {
      "name": "add",
      "summary": "Add a new card to the game",
      "description": "Add a new card to the game (joker, consumable, voucher, or playing card). Playing cards use SUIT_RANK format (e.g., H_A for Ace of Hearts).",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "key",
          "description": "Card key. Format: jokers (j_*), consumables (c_*), vouchers (v_*), or playing cards (SUIT_RANK like H_A, D_K, C_2, S_T)",
          "required": true,
          "schema": {
            "$ref": "#/components/schemas/CardKey"
          }
        },
        {
          "name": "seal",
          "description": "Seal type for playing cards only",
          "required": false,
          "schema": {
            "$ref": "#/components/schemas/Seal"
          }
        },
        {
          "name": "edition",
          "description": "Edition type. NEGATIVE only valid for consumables; jokers and playing cards accept all editions. Not valid for vouchers.",
          "required": false,
          "schema": {
            "$ref": "#/components/schemas/Edition"
          }
        },
        {
          "name": "enhancement",
          "description": "Enhancement type for playing cards only",
          "required": false,
          "schema": {
            "$ref": "#/components/schemas/Enhancement"
          }
        },
        {
          "name": "eternal",
          "description": "If true, card cannot be sold or destroyed (jokers only)",
          "required": false,
          "schema": {
            "type": "boolean"
          }
        },
        {
          "name": "perishable",
          "description": "Number of rounds before card perishes (must be >= 1, jokers only)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 1
          }
        },
        {
          "name": "rental",
          "description": "If true, card costs $1 per round (jokers only)",
          "required": false,
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after card is added",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        }
      ]
    },
    {
      "name": "buy",
      "summary": "Buy a card from the shop",
      "description": "Buy a card, voucher, or pack from the shop. Must provide exactly one of: card, voucher, or pack.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [
        {
          "name": "card",
          "description": "0-based index of card to buy from shop",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "voucher",
          "description": "0-based index of voucher to buy",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "pack",
          "description": "0-based index of pack to buy",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after purchase",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "cash_out",
      "summary": "Cash out and collect round rewards",
      "description": "Cash out and collect round rewards, transitioning to the shop phase.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after transitioning to shop",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        }
      ]
    },
    {
      "name": "discard",
      "summary": "Discard cards from the hand",
      "description": "Discard specified cards from the hand. Card indices are 0-based.",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "cards",
          "description": "0-based indices of cards to discard (non-empty array)",
          "required": true,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            },
            "minItems": 1
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after discard and hand redraw",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        }
      ]
    },
    {
      "name": "gamestate",
      "summary": "Get current game state",
      "description": "Get the complete current game state. Works in any game state.",
      "tags": [
        {
          "$ref": "#/components/tags/state"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete current game state",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": []
    },
    {
      "name": "health",
      "summary": "Health check endpoint",
      "description": "Health check endpoint for connection testing. Always succeeds and works in any game state.",
      "tags": [
        {
          "$ref": "#/components/tags/state"
        }
      ],
      "params": [],
      "result": {
        "name": "health",
        "description": "Health check response",
        "schema": {
          "type": "object",
          "properties": {
            "status": {
              "type": "string",
              "enum": [
                "ok"
              ]
            }
          },
          "required": [
            "status"
          ]
        }
      },
      "errors": []
    },
    {
      "name": "load",
      "summary": "Load a saved run state from a file",
      "description": "Load a previously saved run state from a file. The file must be a valid Balatro save file.",
      "tags": [
        {
          "$ref": "#/components/tags/game-control"
        }
      ],
      "params": [
        {
          "name": "path",
          "description": "File path to the save file",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "name": "result",
        "description": "Load operation result",
        "schema": {
          "$ref": "#/components/schemas/PathResult"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InternalError"
        }
      ]
    },
    {
      "name": "menu",
      "summary": "Return to the main menu",
      "description": "Return to the main menu from any game state.",
      "tags": [
        {
          "$ref": "#/components/tags/game-control"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state (state will be MENU)",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": []
    },
    {
      "name": "next_round",
      "summary": "Leave the shop and advance to blind selection",
      "description": "Leave the shop and advance to the blind selection phase.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state (state will be BLIND_SELECT)",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        }
      ]
    },
    {
      "name": "play",
      "summary": "Play cards from the hand",
      "description": "Play specified cards from the hand. Card indices are 0-based.",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "cards",
          "description": "0-based indices of cards to play (non-empty array)",
          "required": true,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            },
            "minItems": 1
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after playing cards. State may be ROUND_EVAL, SELECTING_HAND, or GAME_OVER.",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        }
      ]
    },
    {
      "name": "rearrange",
      "summary": "Rearrange cards in hand, jokers, or consumables",
      "description": "Rearrange cards by providing a new ordering. Must provide exactly one of: hand, jokers, or consumables. The array must be a valid permutation of all current indices.",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "hand",
          "description": "0-based indices representing new order of cards in hand",
          "required": false,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            }
          }
        },
        {
          "name": "jokers",
          "description": "0-based indices representing new order of jokers",
          "required": false,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            }
          }
        },
        {
          "name": "consumables",
          "description": "0-based indices representing new order of consumables",
          "required": false,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            }
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after rearrangement",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "reroll",
      "summary": "Reroll shop items",
      "description": "Reroll to update the cards in the shop area. Costs money.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after reroll",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "save",
      "summary": "Save the current run state to a file",
      "description": "Save the current run state to a file. Only works during an active run.",
      "tags": [
        {
          "$ref": "#/components/tags/game-control"
        }
      ],
      "params": [
        {
          "name": "path",
          "description": "File path for the save file",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "name": "result",
        "description": "Save operation result",
        "schema": {
          "$ref": "#/components/schemas/PathResult"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/InternalError"
        }
      ]
    },
    {
      "name": "screenshot",
      "summary": "Take a screenshot of the current game state",
      "description": "Take a screenshot of the current game state and save it as PNG format.",
      "tags": [
        {
          "$ref": "#/components/tags/utility"
        }
      ],
      "params": [
        {
          "name": "path",
          "description": "File path for the screenshot file (PNG format)",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "name": "result",
        "description": "Screenshot operation result",
        "schema": {
          "$ref": "#/components/schemas/PathResult"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InternalError"
        }
      ]
    },
    {
      "name": "select",
      "summary": "Select the current blind",
      "description": "Select the current blind to begin the round.",
      "tags": [
        {
          "$ref": "#/components/tags/blind"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state (state will be SELECTING_HAND)",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        }
      ]
    },
    {
      "name": "sell",
      "summary": "Sell a joker or consumable",
      "description": "Sell a joker or consumable from player inventory. Must provide exactly one of: joker or consumable.",
      "tags": [
        {
          "$ref": "#/components/tags/shop"
        }
      ],
      "params": [
        {
          "name": "joker",
          "description": "0-based index of joker to sell",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "consumable",
          "description": "0-based index of consumable to sell",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after sale",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "set",
      "summary": "Set an in-game value",
      "description": "Set one or more in-game values. Must provide at least one field. Only works during an active run.",
      "tags": [
        {
          "$ref": "#/components/tags/utility"
        }
      ],
      "params": [
        {
          "name": "money",
          "description": "New money amount (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "chips",
          "description": "New chips amount (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "ante",
          "description": "New ante number (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "round",
          "description": "New round number (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "hands",
          "description": "New number of hands left (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "discards",
          "description": "New number of discards left (must be >= 0)",
          "required": false,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "shop",
          "description": "If true, re-stock shop with new items (only in SHOP state)",
          "required": false,
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after setting values",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "skip",
      "summary": "Skip the current blind",
      "description": "Skip the current blind (Small or Big only, cannot skip Boss blind).",
      "tags": [
        {
          "$ref": "#/components/tags/blind"
        }
      ],
      "params": [],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after skipping",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    },
    {
      "name": "start",
      "summary": "Start a new game run",
      "description": "Start a new game run with specified deck and stake.",
      "tags": [
        {
          "$ref": "#/components/tags/game-control"
        }
      ],
      "params": [
        {
          "name": "deck",
          "description": "Deck to use for the run",
          "required": true,
          "schema": {
            "$ref": "#/components/schemas/Deck"
          }
        },
        {
          "name": "stake",
          "description": "Stake level for the run",
          "required": true,
          "schema": {
            "$ref": "#/components/schemas/Stake"
          }
        },
        {
          "name": "seed",
          "description": "Optional seed for the run",
          "required": false,
          "schema": {
            "type": "string"
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state (state will be BLIND_SELECT)",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/InternalError"
        }
      ]
    },
    {
      "name": "use",
      "summary": "Use a consumable card",
      "description": "Use a consumable card with optional target cards. Some consumables require card selection.",
      "tags": [
        {
          "$ref": "#/components/tags/cards"
        }
      ],
      "params": [
        {
          "name": "consumable",
          "description": "0-based index of consumable to use",
          "required": true,
          "schema": {
            "type": "integer",
            "minimum": 0
          }
        },
        {
          "name": "cards",
          "description": "0-based indices of cards to target (required for some consumables)",
          "required": false,
          "schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0
            }
          }
        }
      ],
      "result": {
        "name": "gamestate",
        "description": "Complete game state after using consumable",
        "schema": {
          "$ref": "#/components/schemas/GameState"
        }
      },
      "errors": [
        {
          "$ref": "#/components/errors/BadRequest"
        },
        {
          "$ref": "#/components/errors/InvalidState"
        },
        {
          "$ref": "#/components/errors/NotAllowed"
        }
      ]
    }
  ],
  "components": {
    "tags": {
      "state": {
        "name": "state",
        "description": "Game state query endpoints"
      },
      "game-control": {
        "name": "game-control",
        "description": "Game lifecycle control (start, menu, load, save)"
      },
      "blind": {
        "name": "blind",
        "description": "Blind selection and skipping"
      },
      "shop": {
        "name": "shop",
        "description": "Shop interactions (buy, sell, reroll, cash_out)"
      },
      "cards": {
        "name": "cards",
        "description": "Card manipulation (play, discard, rearrange, use, add)"
      },
      "utility": {
        "name": "utility",
        "description": "Utility endpoints (screenshot, set)"
      }
    },
    "schemas": {
      "GameState": {
        "type": "object",
        "description": "Complete game state representation",
        "properties": {
          "state": {
            "$ref": "#/components/schemas/State"
          },
          "round_num": {
            "type": "integer",
            "description": "Current round number"
          },
          "ante_num": {
            "type": "integer",
            "description": "Current ante number"
          },
          "money": {
            "type": "integer",
            "description": "Current money amount"
          },
          "deck": {
            "$ref": "#/components/schemas/Deck",
            "description": "Current selected deck"
          },
          "stake": {
            "$ref": "#/components/schemas/Stake",
            "description": "Current selected stake"
          },
          "seed": {
            "type": "string",
            "description": "Seed used for the run"
          },
          "won": {
            "type": "boolean",
            "description": "Whether the game has been won"
          },
          "used_vouchers": {
            "type": "object",
            "description": "Vouchers used (name -> description)",
            "additionalProperties": {
              "type": "string"
            }
          },
          "hands": {
            "type": "object",
            "description": "Poker hands information",
            "additionalProperties": {
              "$ref": "#/components/schemas/Hand"
            }
          },
          "round": {
            "$ref": "#/components/schemas/Round"
          },
          "blinds": {
            "type": "object",
            "description": "Blind information",
            "properties": {
              "small": {
                "$ref": "#/components/schemas/Blind"
              },
              "big": {
                "$ref": "#/components/schemas/Blind"
              },
              "boss": {
                "$ref": "#/components/schemas/Blind"
              }
            }
          },
          "jokers": {
            "$ref": "#/components/schemas/Area",
            "description": "Jokers area"
          },
          "consumables": {
            "$ref": "#/components/schemas/Area",
            "description": "Consumables area"
          },
          "hand": {
            "$ref": "#/components/schemas/Area",
            "description": "Hand area (available during playing phase)"
          },
          "pack": {
            "$ref": "#/components/schemas/Area",
            "description": "Currently open pack (available during pack opening phase)"
          },
          "shop": {
            "$ref": "#/components/schemas/Area",
            "description": "Shop area (available during shop phase)"
          },
          "vouchers": {
            "$ref": "#/components/schemas/Area",
            "description": "Vouchers area (available during shop phase)"
          },
          "packs": {
            "$ref": "#/components/schemas/Area",
            "description": "Booster packs area (available during shop phase)"
          }
        },
        "required": [
          "state",
          "round_num",
          "ante_num",
          "money"
        ]
      },
      "Hand": {
        "type": "object",
        "description": "Poker hand information",
        "properties": {
          "order": {
            "type": "integer",
            "description": "The importance/ordering of the hand"
          },
          "level": {
            "type": "integer",
            "description": "Level of the hand in the current run"
          },
          "chips": {
            "type": "integer",
            "description": "Current chip value for this hand"
          },
          "mult": {
            "type": "integer",
            "description": "Current multiplier value for this hand"
          },
          "played": {
            "type": "integer",
            "description": "Total number of times this hand has been played"
          },
          "played_this_round": {
            "type": "integer",
            "description": "Number of times this hand has been played this round"
          },
          "example": {
            "type": "array",
            "description": "Example cards showing what makes this hand",
            "items": {
              "type": "array"
            }
          }
        },
        "required": [
          "order",
          "level",
          "chips",
          "mult",
          "played",
          "played_this_round"
        ]
      },
      "Round": {
        "type": "object",
        "description": "Current round state",
        "properties": {
          "hands_left": {
            "type": "integer",
            "description": "Number of hands remaining in this round"
          },
          "hands_played": {
            "type": "integer",
            "description": "Number of hands played in this round"
          },
          "discards_left": {
            "type": "integer",
            "description": "Number of discards remaining in this round"
          },
          "discards_used": {
            "type": "integer",
            "description": "Number of discards used in this round"
          },
          "reroll_cost": {
            "type": "integer",
            "description": "Current cost to reroll the shop"
          },
          "chips": {
            "type": "integer",
            "description": "Current chips scored in this round"
          }
        }
      },
      "Blind": {
        "type": "object",
        "description": "Blind information",
        "properties": {
          "type": {
            "$ref": "#/components/schemas/BlindType"
          },
          "status": {
            "$ref": "#/components/schemas/BlindStatus"
          },
          "name": {
            "type": "string",
            "description": "Name of the blind (e.g., 'Small', 'Big' or the Boss name)"
          },
          "effect": {
            "type": "string",
            "description": "Description of the blind's effect"
          },
          "score": {
            "type": "integer",
            "description": "Score requirement to beat this blind"
          },
          "tag_name": {
            "type": "string",
            "description": "Name of the tag associated with this blind (Small/Big only)"
          },
          "tag_effect": {
            "type": "string",
            "description": "Description of the tag's effect (Small/Big only)"
          }
        },
        "required": [
          "type",
          "status",
          "name",
          "effect",
          "score"
        ]
      },
      "Area": {
        "type": "object",
        "description": "Card area (jokers, consumables, hand, shop, etc.)",
        "properties": {
          "count": {
            "type": "integer",
            "description": "Current number of cards in this area"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of cards allowed in this area"
          },
          "highlighted_limit": {
            "type": "integer",
            "description": "Maximum number of cards that can be highlighted (hand area only)"
          },
          "cards": {
            "type": "array",
            "description": "Array of cards in this area",
            "items": {
              "$ref": "#/components/schemas/Card"
            }
          }
        },
        "required": [
          "count",
          "limit",
          "cards"
        ]
      },
      "Card": {
        "type": "object",
        "description": "Card representation",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the card (sort_id)"
          },
          "key": {
            "type": "string",
            "description": "Specific card key (e.g., 'c_fool', 'j_brainstorm', 'v_overstock')"
          },
          "set": {
            "$ref": "#/components/schemas/CardSet"
          },
          "label": {
            "type": "string",
            "description": "Display label/name of the card"
          },
          "value": {
            "$ref": "#/components/schemas/CardValue"
          },
          "modifier": {
            "$ref": "#/components/schemas/CardModifier"
          },
          "state": {
            "$ref": "#/components/schemas/CardState"
          },
          "cost": {
            "$ref": "#/components/schemas/CardCost"
          }
        },
        "required": [
          "id",
          "key",
          "set",
          "label",
          "value",
          "modifier",
          "state",
          "cost"
        ]
      },
      "CardValue": {
        "type": "object",
        "description": "Value information for the card",
        "properties": {
          "suit": {
            "$ref": "#/components/schemas/Suit",
            "description": "Suit (only for playing cards)"
          },
          "rank": {
            "$ref": "#/components/schemas/Rank",
            "description": "Rank (only for playing cards)"
          },
          "effect": {
            "type": "string",
            "description": "Description of the card's effect (from UI)"
          }
        },
        "required": [
          "effect"
        ]
      },
      "CardModifier": {
        "type": "object",
        "description": "Modifier information (seals, editions, enhancements)",
        "properties": {
          "seal": {
            "$ref": "#/components/schemas/Seal",
            "description": "Seal type (playing cards)"
          },
          "edition": {
            "$ref": "#/components/schemas/Edition",
            "description": "Edition type (jokers, playing cards, and NEGATIVE consumables)"
          },
          "enhancement": {
            "$ref": "#/components/schemas/Enhancement",
            "description": "Enhancement type (playing cards)"
          },
          "eternal": {
            "type": "boolean",
            "description": "If true, card cannot be sold or destroyed (jokers only)"
          },
          "perishable": {
            "type": "integer",
            "description": "Number of rounds remaining (only if > 0, jokers only)"
          },
          "rental": {
            "type": "boolean",
            "description": "If true, card costs money at end of round (jokers only)"
          }
        }
      },
      "CardState": {
        "type": "object",
        "description": "Current state information",
        "properties": {
          "debuff": {
            "type": "boolean",
            "description": "If true, card is debuffed and won't score"
          },
          "hidden": {
            "type": "boolean",
            "description": "If true, card is face down"
          },
          "highlight": {
            "type": "boolean",
            "description": "If true, card is currently highlighted"
          }
        }
      },
      "CardCost": {
        "type": "object",
        "description": "Cost information",
        "properties": {
          "sell": {
            "type": "integer",
            "description": "Sell value of the card"
          },
          "buy": {
            "type": "integer",
            "description": "Buy price of the card (if in shop)"
          }
        },
        "required": [
          "sell",
          "buy"
        ]
      },
      "PathResult": {
        "type": "object",
        "description": "Result for file operations (save, load, screenshot)",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation was successful"
          },
          "path": {
            "type": "string",
            "description": "Path to the file"
          }
        },
        "required": [
          "success",
          "path"
        ]
      },
      "State": {
        "type": "string",
        "description": "Game state enumeration",
        "enum": [
          "MENU",
          "BLIND_SELECT",
          "SELECTING_HAND",
          "HAND_PLAYED",
          "DRAW_TO_HAND",
          "NEW_ROUND",
          "ROUND_EVAL",
          "SHOP",
          "PLAY_TAROT",
          "TAROT_PACK",
          "PLANET_PACK",
          "SPECTRAL_PACK",
          "STANDARD_PACK",
          "BUFFOON_PACK",
          "GAME_OVER"
        ]
      },
      "Deck": {
        "type": "string",
        "description": "Deck enumeration",
        "enum": [
          "RED",
          "BLUE",
          "YELLOW",
          "GREEN",
          "BLACK",
          "MAGIC",
          "NEBULA",
          "GHOST",
          "ABANDONED",
          "CHECKERED",
          "ZODIAC",
          "PAINTED",
          "ANAGLYPH",
          "PLASMA",
          "ERRATIC"
        ]
      },
      "Stake": {
        "type": "string",
        "description": "Stake level enumeration",
        "enum": [
          "WHITE",
          "RED",
          "GREEN",
          "BLACK",
          "BLUE",
          "PURPLE",
          "ORANGE",
          "GOLD"
        ]
      },
      "Suit": {
        "type": "string",
        "description": "Card suit",
        "enum": [
          "H",
          "D",
          "C",
          "S"
        ]
      },
      "Rank": {
        "type": "string",
        "description": "Card rank",
        "enum": [
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8",
          "9",
          "T",
          "J",
          "Q",
          "K",
          "A"
        ]
      },
      "Seal": {
        "type": "string",
        "description": "Card seal type",
        "enum": [
          "RED",
          "BLUE",
          "GOLD",
          "PURPLE"
        ]
      },
      "Edition": {
        "type": "string",
        "description": "Card edition type",
        "enum": [
          "HOLO",
          "FOIL",
          "POLYCHROME",
          "NEGATIVE"
        ]
      },
      "Enhancement": {
        "type": "string",
        "description": "Card enhancement type",
        "enum": [
          "BONUS",
          "MULT",
          "WILD",
          "GLASS",
          "STEEL",
          "STONE",
          "GOLD",
          "LUCKY"
        ]
      },
      "CardSet": {
        "type": "string",
        "description": "Card set/type",
        "enum": [
          "DEFAULT",
          "ENHANCED",
          "JOKER",
          "TAROT",
          "PLANET",
          "SPECTRAL",
          "VOUCHER",
          "BOOSTER"
        ]
      },
      "BlindType": {
        "type": "string",
        "description": "Blind type",
        "enum": [
          "SMALL",
          "BIG",
          "BOSS"
        ]
      },
      "BlindStatus": {
        "type": "string",
        "description": "Blind status",
        "enum": [
          "UPCOMING",
          "CURRENT",
          "DEFEATED",
          "SKIPPED",
          "SELECT"
        ]
      },
      "TarotKey": {
        "type": "string",
        "description": "Tarot consumable card key",
        "enum": [
          "c_fool",
          "c_magician",
          "c_high_priestess",
          "c_empress",
          "c_emperor",
          "c_heirophant",
          "c_lovers",
          "c_chariot",
          "c_justice",
          "c_hermit",
          "c_wheel_of_fortune",
          "c_strength",
          "c_hanged_man",
          "c_death",
          "c_temperance",
          "c_devil",
          "c_tower",
          "c_star",
          "c_moon",
          "c_sun",
          "c_judgement",
          "c_world"
        ]
      },
      "PlanetKey": {
        "type": "string",
        "description": "Planet consumable card key",
        "enum": [
          "c_mercury",
          "c_venus",
          "c_earth",
          "c_mars",
          "c_jupiter",
          "c_saturn",
          "c_uranus",
          "c_neptune",
          "c_pluto",
          "c_planet_x",
          "c_ceres",
          "c_eris"
        ]
      },
      "SpectralKey": {
        "type": "string",
        "description": "Spectral consumable card key",
        "enum": [
          "c_familiar",
          "c_grim",
          "c_incantation",
          "c_talisman",
          "c_aura",
          "c_wraith",
          "c_sigil",
          "c_ouija",
          "c_ectoplasm",
          "c_immolate",
          "c_ankh",
          "c_deja_vu",
          "c_hex",
          "c_trance",
          "c_medium",
          "c_cryptid",
          "c_soul",
          "c_black_hole"
        ]
      },
      "JokerKey": {
        "type": "string",
        "description": "Joker card key",
        "enum": [
          "j_joker",
          "j_greedy_joker",
          "j_lusty_joker",
          "j_wrathful_joker",
          "j_gluttenous_joker",
          "j_jolly",
          "j_zany",
          "j_mad",
          "j_crazy",
          "j_droll",
          "j_sly",
          "j_wily",
          "j_clever",
          "j_devious",
          "j_crafty",
          "j_half",
          "j_stencil",
          "j_four_fingers",
          "j_mime",
          "j_credit_card",
          "j_ceremonial",
          "j_banner",
          "j_mystic_summit",
          "j_marble",
          "j_loyalty_card",
          "j_8_ball",
          "j_misprint",
          "j_dusk",
          "j_raised_fist",
          "j_chaos",
          "j_fibonacci",
          "j_steel_joker",
          "j_scary_face",
          "j_abstract",
          "j_delayed_grat",
          "j_hack",
          "j_pareidolia",
          "j_gros_michel",
          "j_even_steven",
          "j_odd_todd",
          "j_scholar",
          "j_business",
          "j_supernova",
          "j_ride_the_bus",
          "j_space",
          "j_egg",
          "j_burglar",
          "j_blackboard",
          "j_runner",
          "j_ice_cream",
          "j_dna",
          "j_splash",
          "j_blue_joker",
          "j_sixth_sense",
          "j_constellation",
          "j_hiker",
          "j_faceless",
          "j_green_joker",
          "j_superposition",
          "j_todo_list",
          "j_cavendish",
          "j_card_sharp",
          "j_red_card",
          "j_madness",
          "j_square",
          "j_seance",
          "j_riff_raff",
          "j_vampire",
          "j_shortcut",
          "j_hologram",
          "j_vagabond",
          "j_baron",
          "j_cloud_9",
          "j_rocket",
          "j_obelisk",
          "j_midas_mask",
          "j_luchador",
          "j_photograph",
          "j_gift",
          "j_turtle_bean",
          "j_erosion",
          "j_reserved_parking",
          "j_mail",
          "j_to_the_moon",
          "j_hallucination",
          "j_fortune_teller",
          "j_juggler",
          "j_drunkard",
          "j_stone",
          "j_golden",
          "j_lucky_cat",
          "j_baseball",
          "j_bull",
          "j_diet_cola",
          "j_trading",
          "j_flash",
          "j_popcorn",
          "j_trousers",
          "j_ancient",
          "j_ramen",
          "j_walkie_talkie",
          "j_selzer",
          "j_castle",
          "j_smiley",
          "j_campfire",
          "j_ticket",
          "j_mr_bones",
          "j_acrobat",
          "j_sock_and_buskin",
          "j_swashbuckler",
          "j_troubadour",
          "j_certificate",
          "j_smeared",
          "j_throwback",
          "j_hanging_chad",
          "j_rough_gem",
          "j_bloodstone",
          "j_arrowhead",
          "j_onyx_agate",
          "j_glass",
          "j_ring_master",
          "j_flower_pot",
          "j_blueprint",
          "j_wee",
          "j_merry_andy",
          "j_oops",
          "j_idol",
          "j_seeing_double",
          "j_matador",
          "j_hit_the_road",
          "j_duo",
          "j_trio",
          "j_family",
          "j_order",
          "j_tribe",
          "j_stuntman",
          "j_invisible",
          "j_brainstorm",
          "j_satellite",
          "j_shoot_the_moon",
          "j_drivers_license",
          "j_cartomancer",
          "j_astronomer",
          "j_burnt",
          "j_bootstraps",
          "j_caino",
          "j_triboulet",
          "j_yorick",
          "j_chicot",
          "j_perkeo"
        ]
      },
      "VoucherKey": {
        "type": "string",
        "description": "Voucher card key",
        "enum": [
          "v_overstock_norm",
          "v_clearance_sale",
          "v_hone",
          "v_reroll_surplus",
          "v_crystal_ball",
          "v_telescope",
          "v_grabber",
          "v_wasteful",
          "v_tarot_merchant",
          "v_planet_merchant",
          "v_seed_money",
          "v_blank",
          "v_magic_trick",
          "v_hieroglyph",
          "v_directors_cut",
          "v_paint_brush",
          "v_overstock_plus",
          "v_liquidation",
          "v_glow_up",
          "v_reroll_glut",
          "v_omen_globe",
          "v_observatory",
          "v_nacho_tong",
          "v_recyclomancy",
          "v_tarot_tycoon",
          "v_planet_tycoon",
          "v_money_tree",
          "v_antimatter",
          "v_illusion",
          "v_petroglyph",
          "v_retcon",
          "v_palette"
        ]
      },
      "PlayingCardKey": {
        "type": "string",
        "description": "Playing card key in SUIT_RANK format (H=Hearts, D=Diamonds, C=Clubs, S=Spades)",
        "enum": [
          "H_2",
          "H_3",
          "H_4",
          "H_5",
          "H_6",
          "H_7",
          "H_8",
          "H_9",
          "H_T",
          "H_J",
          "H_Q",
          "H_K",
          "H_A",
          "D_2",
          "D_3",
          "D_4",
          "D_5",
          "D_6",
          "D_7",
          "D_8",
          "D_9",
          "D_T",
          "D_J",
          "D_Q",
          "D_K",
          "D_A",
          "C_2",
          "C_3",
          "C_4",
          "C_5",
          "C_6",
          "C_7",
          "C_8",
          "C_9",
          "C_T",
          "C_J",
          "C_Q",
          "C_K",
          "C_A",
          "S_2",
          "S_3",
          "S_4",
          "S_5",
          "S_6",
          "S_7",
          "S_8",
          "S_9",
          "S_T",
          "S_J",
          "S_Q",
          "S_K",
          "S_A"
        ]
      },
      "ConsumableKey": {
        "description": "Consumable card key (Tarot, Planet, or Spectral)",
        "oneOf": [
          {
            "$ref": "#/components/schemas/TarotKey"
          },
          {
            "$ref": "#/components/schemas/PlanetKey"
          },
          {
            "$ref": "#/components/schemas/SpectralKey"
          }
        ]
      },
      "CardKey": {
        "description": "Card key for the add endpoint. Supports jokers (j_*), consumables (c_*), vouchers (v_*), or playing cards (SUIT_RANK)",
        "oneOf": [
          {
            "$ref": "#/components/schemas/JokerKey"
          },
          {
            "$ref": "#/components/schemas/ConsumableKey"
          },
          {
            "$ref": "#/components/schemas/VoucherKey"
          },
          {
            "$ref": "#/components/schemas/PlayingCardKey"
          }
        ]
      }
    },
    "errors": {
      "InternalError": {
        "code": -32000,
        "message": "Internal error",
        "data": {
          "name": "INTERNAL_ERROR"
        }
      },
      "BadRequest": {
        "code": -32001,
        "message": "Bad request",
        "data": {
          "name": "BAD_REQUEST"
        }
      },
      "InvalidState": {
        "code": -32002,
        "message": "Invalid state",
        "data": {
          "name": "INVALID_STATE"
        }
      },
      "NotAllowed": {
        "code": -32003,
        "message": "Not allowed",
        "data": {
          "name": "NOT_ALLOWED"
        }
      }
    }
  }
}
